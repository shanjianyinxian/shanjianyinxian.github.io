<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>程小罗的虎啸山庄</title><meta name="keywords" content="技术"><meta name="author" content="程小罗"><meta name="copyright" content="程小罗"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="个人随笔记录，欢迎光临o(*￣▽￣*)ブ">
<meta property="og:type" content="website">
<meta property="og:title" content="程小罗的虎啸山庄">
<meta property="og:url" content="https://shanjianyinxian.gitee.io/page/2/index.html">
<meta property="og:site_name" content="程小罗的虎啸山庄">
<meta property="og:description" content="个人随笔记录，欢迎光临o(*￣▽￣*)ブ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://shanjianyinxian.gitee.io/images/avatar.jpg">
<meta property="article:author" content="程小罗">
<meta property="article:tag" content="技术">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://shanjianyinxian.gitee.io/images/avatar.jpg"><link rel="shortcut icon" href="/images/rua.jpg"><link rel="canonical" href="https://shanjianyinxian.gitee.io/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 程小罗","link":"链接: ","source":"来源: 程小罗的虎啸山庄","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-07-10 17:35:01'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = '1'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="程小罗的虎啸山庄" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/images/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">25</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 过往</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(/images/top_img.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">程小罗的虎啸山庄</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 过往</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand hide"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">程小罗的虎啸山庄</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/shanjianyinxian" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://gitee.com/shanjianyinxian" target="_blank" title="Gitee"><i class="fab fa-git-square"></i></a><a class="social-icon" href="mailto:18600334785@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/11/07/0865-%E5%85%B7%E6%9C%89%E6%89%80%E6%9C%89%E6%9C%80%E6%B7%B1%E8%8A%82%E7%82%B9%E7%9A%84%E6%9C%80%E5%B0%8F%E5%AD%90%E6%A0%91/" title="0865. 具有所有最深节点的最小子树">     <img class="post_bg" src="/images/leetcode.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="0865. 具有所有最深节点的最小子树"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/07/0865-%E5%85%B7%E6%9C%89%E6%89%80%E6%9C%89%E6%9C%80%E6%B7%B1%E8%8A%82%E7%82%B9%E7%9A%84%E6%9C%80%E5%B0%8F%E5%AD%90%E6%A0%91/" title="0865. 具有所有最深节点的最小子树">0865. 具有所有最深节点的最小子树</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-07T05:46:55.000Z" title="发表于 2020-11-07 13:46:55">2020-11-07</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/%E7%AE%97%E6%B3%95/">算法</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/leetcode/">leetcode</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E6%A0%91/">树</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/">层序遍历</a></span></div><div class="content">865. 具有所有最深节点的最小子树

树
层序遍历


首先按照层序遍历将树按照层拆分成不同的集合。首先判断最后一层，即叶子节点层是否只有一个节点，如果只有一个节点则直接返回叶子节点。然后从倒数第二行开始往根方向遍历，判断当前层的孩子节点是否在往叶子节点方向的下一层。将当前层更新为满足孩子节点在下一层的节点集合。如果当前层只有一个节点满足条件，则直接返回该节点。
整体的思路类似于不断合并节点。找到最小公共父节点。
# Definition for a binary tree node.# class TreeNode:#     def __init__(self, val=0, left=None, right=None):#         self.val = val#         self.left = left#         self.right = rightclass Solution:    def subtreeWithAllDeepest(self, root: TreeNode) -&gt; TreeNode:        rowList = list ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/11/06/0116-%E5%A1%AB%E5%85%85%E6%AF%8F%E4%B8%AA%E8%8A%82%E7%82%B9%E7%9A%84%E4%B8%8B%E4%B8%80%E4%B8%AA%E5%8F%B3%E4%BE%A7%E8%8A%82%E7%82%B9%E6%8C%87%E9%92%88/" title="0116. 填充每个节点的下一个右侧节点指针">     <img class="post_bg" src="/images/leetcode.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="0116. 填充每个节点的下一个右侧节点指针"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/06/0116-%E5%A1%AB%E5%85%85%E6%AF%8F%E4%B8%AA%E8%8A%82%E7%82%B9%E7%9A%84%E4%B8%8B%E4%B8%80%E4%B8%AA%E5%8F%B3%E4%BE%A7%E8%8A%82%E7%82%B9%E6%8C%87%E9%92%88/" title="0116. 填充每个节点的下一个右侧节点指针">0116. 填充每个节点的下一个右侧节点指针</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-06T06:36:45.000Z" title="发表于 2020-11-06 14:36:45">2020-11-06</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/%E7%AE%97%E6%B3%95/">算法</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/leetcode/">leetcode</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E5%8F%8C%E6%8C%87%E9%92%88/">双指针</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E9%80%92%E5%BD%92/">递归</a></span></div><div class="content">116. 填充每个节点的下一个右侧节点指针

双指针
递归


本题使用层序遍历使用队列可以十分轻松的解决，由于题目中需要常数级别的空间复杂度，因此不使用该方法。按照本题题干中的提示，递归的调用栈所占空间不算空间复杂度。因此使用递归。
本题使用递归（前序遍历）方法解决：

边界条件如果根节点为null，则返回

递归过程为根节点的两个孩子节点找到next
左孩子节点找next：由于是完全二叉树，因此父节点一定包含左右两个孩子节点，root.left.next = root.right; 如果该节点为叶子节点则直接返回。
右孩子节点找next：如果根节点root的next存在的话；则右孩子节点的next为root.next的左孩子节点。即root.right.next = root.next.left;
递归执行root.left和root.right


/*// Definition for a Node.class Node &#123;    public int val;    public Node left;    public Node right;    public  ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/11/06/0057-%E6%8F%92%E5%85%A5%E5%8C%BA%E9%97%B4/" title="0057. 插入区间">     <img class="post_bg" src="/images/leetcode.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="0057. 插入区间"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/06/0057-%E6%8F%92%E5%85%A5%E5%8C%BA%E9%97%B4/" title="0057. 插入区间">0057. 插入区间</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-06T06:25:05.000Z" title="发表于 2020-11-06 14:25:05">2020-11-06</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/%E7%AE%97%E6%B3%95/">算法</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/leetcode/">leetcode</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E6%9C%B4%E7%B4%A0/">朴素</a></span></div><div class="content">57. 插入区间
大美兴，川普王！🤩

朴素


这条hard题看完就知道咋做，一度怀疑自己是不是想的太简单了。直接看题解发现就是这么简单。。。
思路很简单，初始化合并区间的开始与结束为新插入区间newInterval的开始与结束，如果新插入区间的开始在某个已有区间内，则该已有区间的开始为合并区间的开始。如果新插入区间的结束在某个已有区间内，则该已有区间的结束为合并区间的结束，并将合并区间加入答案列表。
处理几个边界条件：

如果新插入区间的结束不在某个已有区间内，则判断到newBack &lt; currPrev 时先将合并区间进入答案列表。
如果遍历完了还是没有插入合并区间，则在答案输出前将合并区间进入答案列表。

class Solution &#123;    public int[][] insert(int[][] intervals, int[] newInterval) &#123;        int newPrev = newInterval[0];        int newBack = newInterval[1];                List ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/11/06/0052-N%E7%9A%87%E5%90%8E%20II/" title="0052. N皇后 II">     <img class="post_bg" src="/images/leetcode.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="0052. N皇后 II"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/06/0052-N%E7%9A%87%E5%90%8E%20II/" title="0052. N皇后 II">0052. N皇后 II</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-06T06:12:55.000Z" title="发表于 2020-11-06 14:12:55">2020-11-06</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/%E7%AE%97%E6%B3%95/">算法</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/N%E7%9A%87%E5%90%8E/">N皇后</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/">位运算</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/DFS/">DFS</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/leetcode/">leetcode</a></span></div><div class="content">52. N皇后 II

N皇后
位运算
DFS


看的网上别人的思路自己复现出来的结果。充分运用位运算和深度优先搜索。用位运算表示当前位置能否放置棋子的情况，0表示未放置棋子，1表示不能放置棋子。
比如一个8位的棋盘，未放置任何棋子时第一行为00000000，若第四个位置放置了棋子。则变为00010000。第二行可以放置棋子的情况变成00111000。这是由于第一行的第四个位置放置了棋子，因此这个棋子的左下角第二行第三位，正下方第二行第四位和右下角第二行第五位都无法放置棋子。顺延下去，左下角的左下角：第三行第二位；正下方的正下方：第三行第四位；因此思路中使用了三个变量，left表示左斜下方的不可放置位，right表示右斜下方的不可放置位，col表示垂直列的不可放置位。
按照上文的例子第一行为00010000。则第二行left为00100000由上一行左移一位得到，col为00010000，right为00001000由上一行右移一位得到，因此第二行的可放置位情况为(left | right | col)，即00111000。left，right如同水纹散开分别进行左移右移。与此同时第 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/11/05/Kibana%E7%9A%84Monitoring%E4%B8%8D%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E7%9A%84%E6%94%B6%E9%9B%86%E5%92%8C%E7%9B%91%E6%8E%A7/" title="Kibana的Monitoring不进行数据的收集和监控">     <img class="post_bg" src="/images/elastic.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="Kibana的Monitoring不进行数据的收集和监控"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/05/Kibana%E7%9A%84Monitoring%E4%B8%8D%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E7%9A%84%E6%94%B6%E9%9B%86%E5%92%8C%E7%9B%91%E6%8E%A7/" title="Kibana的Monitoring不进行数据的收集和监控">Kibana的Monitoring不进行数据的收集和监控</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-05T02:42:55.000Z" title="发表于 2020-11-05 10:42:55">2020-11-05</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/ELK/">ELK</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/ELK/">ELK</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/kibana/">kibana</a></span></div><div class="content">
软件：ELK7.1.1

问题Kibana的Monitoring不进行数据的收集和监控，配置正确的情况下无法找到监控的数据。出现了如下的问题：


解答根据网上人的说法，有 ingest node 问题，还有配置文件不正确等。我这里提供一个新的思路。这是由于服务器与客户端的时间不同步造成的。
比如这里差了80分钟，将kibana监控界面的时间窗跨度扩大到80分钟以上时候即可得到数据。因此需要注意服务器的时间同步。

其他相关解决方案未打开 ingest node 
GitHub讨论
配置文件中监控数据收集时间过短
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/10/30/centos%E5%AE%89%E8%A3%85jdk1.8/" title="centos安装jdk1.8">     <img class="post_bg" src="/images/default_bg1.png" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="centos安装jdk1.8"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/30/centos%E5%AE%89%E8%A3%85jdk1.8/" title="centos安装jdk1.8">centos安装jdk1.8</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-30T06:28:11.000Z" title="发表于 2020-10-30 14:28:11">2020-10-30</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/">技术</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/linux/">linux</a><i class="fas fa-angle-right"></i><a class="article-meta__categories" href="/categories/%E6%8A%80%E6%9C%AF/java/">java</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/linux/">linux</a><span class="article-meta__link">•</span><a class="article-meta__tags" href="/tags/java/">java</a></span></div><div class="content">
操作系统：centos7软件：jdk1.8

这里简单记录了当时自己安装jdk1.8的过程。


将jdk解压至/usr/local/路径下
$ tar -zxvf jdk-8u152-linux-x64.tar.gz -C /usr/local/

设置环境变量
$ vim /etc/profile 

末尾加入
export JAVA_HOME=/usr/share/jdk1.8.0_152export JRE_HOME=$&#123;JAVA_HOME&#125;/jreexport PATH=$JAVA_HOME/bin:$PATHexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar

使环境变量生效
$ source /etc/profile

添加软连接
$ ln -s /usr/local/jdk1.8.0_152/bin/java /usr/bin/java

检查是否安装成功
$ java -version



</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/10/29/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/" title="我的第一篇博客">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="我的第一篇博客"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/29/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/" title="我的第一篇博客">我的第一篇博客</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-29T12:46:32.000Z" title="发表于 2020-10-29 20:46:32">2020-10-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox article-meta__icon"></i><a class="article-meta__categories" href="/categories/%E7%94%9F%E6%B4%BB/">生活</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fas fa-tag article-meta__icon"></i><a class="article-meta__tags" href="/tags/%E9%9A%8F%E7%AC%94/">随笔</a></span></div><div class="content">欢迎来到我的博客，建站费了一些功夫，好在终于弄完了。主要记录兴趣，生活和技术笔记，希望多多交流。
最后，欢迎来到程小罗的虎啸山庄！o(￣▽￣)ブ
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/10/28/hello-world/" title="Hello World">     <img class="post_bg" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/10/28/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-10-28T13:31:56.676Z" title="发表于 2020-10-28 21:31:56">2020-10-28</time></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post$ hexo new &quot;My New Post&quot;

More info: Writing
Run server$ hexo server

More info: Server
Generate static files$ hexo generate

More info: Generating
Deploy to remote sites$ hexo deploy

More info: Deployment
</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="/images/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">程小罗</div><div class="author-info__description">个人随笔记录，欢迎光临o(*￣▽￣*)ブ</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">25</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/shanjianyinxian"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/shanjianyinxian" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://gitee.com/shanjianyinxian" target="_blank" title="Gitee"><i class="fab fa-git-square"></i></a><a class="social-icon" href="mailto:18600334785@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">相册页面开张啦！O(∩_∩)O</div></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/07/06/hexo%E6%8C%87%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/" title="hexo指令执行失败问题解决"><img src="/images/hexo.jpeg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="hexo指令执行失败问题解决"/></a><div class="content"><a class="title" href="/2021/07/06/hexo%E6%8C%87%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%A4%B1%E8%B4%A5%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/" title="hexo指令执行失败问题解决">hexo指令执行失败问题解决</a><time datetime="2021-07-06T08:45:55.000Z" title="发表于 2021-07-06 16:45:55">2021-07-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/07/06/%E5%A5%BD%E4%B9%85%E4%B8%8D%E8%A7%81/" title="好久不见"><img src="/images/power-cat.png" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="好久不见"/></a><div class="content"><a class="title" href="/2021/07/06/%E5%A5%BD%E4%B9%85%E4%B8%8D%E8%A7%81/" title="好久不见">好久不见</a><time datetime="2021-07-06T06:59:13.000Z" title="发表于 2021-07-06 14:59:13">2021-07-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/18/java%E5%8F%8D%E5%B0%84%E8%AF%BB%E5%8F%96%E7%B1%BB%E7%9A%84%E7%A7%81%E6%9C%89%E5%B1%9E%E6%80%A7%E5%B9%B6%E4%B8%94%E8%AF%BB%E5%8F%96%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E5%80%BC/" title="java反射读取类的私有属性并且读取实例属性值"><img src="/images/default_bg1.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="java反射读取类的私有属性并且读取实例属性值"/></a><div class="content"><a class="title" href="/2021/03/18/java%E5%8F%8D%E5%B0%84%E8%AF%BB%E5%8F%96%E7%B1%BB%E7%9A%84%E7%A7%81%E6%9C%89%E5%B1%9E%E6%80%A7%E5%B9%B6%E4%B8%94%E8%AF%BB%E5%8F%96%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E5%80%BC/" title="java反射读取类的私有属性并且读取实例属性值">java反射读取类的私有属性并且读取实例属性值</a><time datetime="2021-03-18T12:22:33.000Z" title="发表于 2021-03-18 20:22:33">2021-03-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/10/java%E4%B8%ADString%E5%92%8Cbyte-%E4%B8%AD%E6%96%87%E8%BD%AC%E6%8D%A2%E7%9A%84%E9%97%AE%E9%A2%98/" title="java中String和byte[]中文转换的问题"><img src="/images/default_bg1.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="java中String和byte[]中文转换的问题"/></a><div class="content"><a class="title" href="/2021/03/10/java%E4%B8%ADString%E5%92%8Cbyte-%E4%B8%AD%E6%96%87%E8%BD%AC%E6%8D%A2%E7%9A%84%E9%97%AE%E9%A2%98/" title="java中String和byte[]中文转换的问题">java中String和byte[]中文转换的问题</a><time datetime="2021-03-10T09:23:01.000Z" title="发表于 2021-03-10 17:23:01">2021-03-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/11/30/mysql-mysql5-5%E7%94%A8%E6%88%B7%E6%97%A0%E9%9C%80%E5%AF%86%E7%A0%81%E5%8D%B3%E5%8F%AF%E7%99%BB%E5%BD%95%E9%97%AE%E9%A2%98/" title="mysql-mysql5.5用户无需密码即可登录问题"><img src="/images/mysql.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="mysql-mysql5.5用户无需密码即可登录问题"/></a><div class="content"><a class="title" href="/2020/11/30/mysql-mysql5-5%E7%94%A8%E6%88%B7%E6%97%A0%E9%9C%80%E5%AF%86%E7%A0%81%E5%8D%B3%E5%8F%AF%E7%99%BB%E5%BD%95%E9%97%AE%E9%A2%98/" title="mysql-mysql5.5用户无需密码即可登录问题">mysql-mysql5.5用户无需密码即可登录问题</a><time datetime="2020-11-30T14:49:43.000Z" title="发表于 2020-11-30 22:49:43">2020-11-30</time></div></div></div></div></div><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/"><span class="card-category-list-name">技术</span><span class="card-category-list-count">15</span></a></li><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/ELK/"><span class="card-category-list-name">ELK</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/hexo/"><span class="card-category-list-name">hexo</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/java/"><span class="card-category-list-name">java</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/linux/"><span class="card-category-list-name">linux</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/mysql/"><span class="card-category-list-name">mysql</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/%E7%AE%97%E6%B3%95/"><span class="card-category-list-name">算法</span><span class="card-category-list-count">6</span></a></li></ul><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%94%9F%E6%B4%BB/"><span class="card-category-list-name">生活</span><span class="card-category-list-count">2</span></a></li>
            
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/hexo/" style="font-size: 1.1em; color: rgb(40, 44, 65)">hexo</a><a href="/tags/N%E7%9A%87%E5%90%8E/" style="font-size: 1.1em; color: rgb(131, 76, 43)">N皇后</a><a href="/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/" style="font-size: 1.1em; color: rgb(13, 1, 26)">位运算</a><a href="/tags/DFS/" style="font-size: 1.1em; color: rgb(8, 12, 199)">DFS</a><a href="/tags/leetcode/" style="font-size: 1.5em; color: rgb(61, 177, 90)">leetcode</a><a href="/tags/%E6%9C%B4%E7%B4%A0/" style="font-size: 1.1em; color: rgb(107, 173, 62)">朴素</a><a href="/tags/%E5%8F%8C%E6%8C%87%E9%92%88/" style="font-size: 1.23em; color: rgb(74, 192, 56)">双指针</a><a href="/tags/%E9%80%92%E5%BD%92/" style="font-size: 1.1em; color: rgb(8, 116, 6)">递归</a><a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size: 1.23em; color: rgb(140, 10, 126)">链表</a><a href="/tags/%E5%93%91%E8%8A%82%E7%82%B9/" style="font-size: 1.23em; color: rgb(46, 1, 41)">哑节点</a><a href="/tags/%E6%A0%91/" style="font-size: 1.1em; color: rgb(92, 151, 62)">树</a><a href="/tags/%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86/" style="font-size: 1.1em; color: rgb(51, 54, 131)">层序遍历</a><a href="/tags/ELK/" style="font-size: 1.37em; color: rgb(130, 157, 52)">ELK</a><a href="/tags/elasticsearch/" style="font-size: 1.23em; color: rgb(156, 74, 73)">elasticsearch</a><a href="/tags/kibana/" style="font-size: 1.23em; color: rgb(107, 79, 151)">kibana</a><a href="/tags/linux/" style="font-size: 1.23em; color: rgb(36, 128, 119)">linux</a><a href="/tags/java/" style="font-size: 1.37em; color: rgb(162, 118, 75)">java</a><a href="/tags/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%AE%A1%E7%90%86/" style="font-size: 1.1em; color: rgb(158, 57, 51)">生命周期管理</a><a href="/tags/centos/" style="font-size: 1.1em; color: rgb(33, 44, 81)">centos</a><a href="/tags/firewalld/" style="font-size: 1.1em; color: rgb(145, 67, 177)">firewalld</a><a href="/tags/mysql/" style="font-size: 1.1em; color: rgb(23, 3, 86)">mysql</a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 1.1em; color: rgb(119, 110, 188)">数据库</a><a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 1.23em; color: rgb(52, 45, 21)">随笔</a><a href="/tags/%E7%BC%96%E8%A7%A3%E7%A0%81/" style="font-size: 1.1em; color: rgb(111, 67, 75)">编解码</a><a href="/tags/%E5%8F%8D%E5%B0%84/" style="font-size: 1.1em; color: rgb(90, 69, 130)">反射</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/07/"><span class="card-archive-list-date">七月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/03/"><span class="card-archive-list-date">三月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/11/"><span class="card-archive-list-date">十一月 2020</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/10/"><span class="card-archive-list-date">十月 2020</span><span class="card-archive-list-count">3</span></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">18</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2020-10-29T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-07-10T09:35:01.511Z"></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By 程小罗</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">欢迎来到，程小罗的虎啸山庄！o(*￣▽￣*)ブ</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>function subtitleType () {
  $.getJSON('https://v1.hitokoto.cn', function (data) {
    if (true) {
      var from = '出自 ' + data.from
      var sub = "".length == 0 ? new Array() : "".split(',')
      var both = sub.unshift(data.hitokoto, from)
      var typed = new Typed('#subtitle', {
        strings: sub,
        startDelay: 300,
        typeSpeed: 150,
        loop: true,
        backSpeed: 50,
      })
    } else {
      document.getElementById('subtitle').innerHTML = data.hitokoto
    }
  })
}

if (true) {
  if (typeof Typed === 'function') subtitleType()
  else $.getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js', subtitleType)
} else {
  subtitleType()
}
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script></div></body></html>